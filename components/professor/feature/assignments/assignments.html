<div ng-include="'components/navbar/navbar.html'"></div>
<div id="assignmentsPageProfessor" class = "pageScale" cg-busy="assignmentsPromise">
    <div class="container">
        
        <!-- Icons Download and Search -->
        <div class="row">
            <div class="col-xs-12">
                <ul class="icons_d_s">
                    <li><img src="img/icon_download.png"></li>
                    <li><img src="img/icon_search.png" ng-click="openAssignmentsFilterModal(this)"></li>
                </ul>
            </div>
        </div>
        
        <!-- Bars Progress -->
        <div class="row">
            <div class="col-xs-12 col-md-2"></div>
            <div class="col-xs-12 col-md-8">
                <h1 class="text-center grades_title">Assignments</h1>
                <table class="settingtable">
                    <tbody>
                        <tr ng-repeat="section in data">
                          <td width="15%" ng-if="$index == 0"><span style="margin-right: 20px;">Parent Class</span></td>
                          <td width="15%" ng-if="$index != 0"><span style="margin-right: 20px;">{{section.name}}</span></td>
                          <td width="70%" ng-if="$index == 0">
                            <div class="progress bar_p_y_modif_i">
                              <div class="progress-bar progress-bar-warning bar_p_y_modif_ii" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{section.total}}%;">
                                <span class="sr-only">{{section.total}}% Complete (warning)</span>
                              </div>
                            </div>
                          </td>
                          <td width="70%" ng-if="$index != 0">
                            <div class="progress bar_p_y_modif_i">
                              <div class="progress-bar progress-bar-warning bar_p_w_modif_ii" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{section.total}}%;">
                                <span class="sr-only">{{section.total}}% Complete (warning)</span>
                              </div>
                            </div>
                          </td>
                          <td width="15%"><span style="margin-left:15px;">{{section.total}}%</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-xs-12 col-md-2"></div>
        </div>    

        <!-- Datatables -->
        <div class="row">
            <div class="col-xs-12 col-md-1"></div>
            <div class="col-xs-12 col-md-10">
                <table id="dtAssignments" class="display dtAssignments" cellspacing="0" width="100%" style="padding-left: 0; width: 100%;">
                    <thead>
                        <tr>
                            <th width="5%"></th>
                            <th width="30%" class="att_code_i">Assignments</th>
                            <th width="30%" class="att_date text-center"></th>
                            <th width="15%" class="att_points text-center"></th>
                            <th width="15%" class="att_att text-center">Average</th>
                            <th width="15%"></th>
                        </tr>
                    </thead>
                    <tbody  ng-repeat="section in data | filter:searchSection" data-ng-switch on="rowCollapsed[section.courseID][$index]">
                        <tr role="row" class="odd">
                            <td class="dropdownsetting"></td>
                            <td class="dropdownsetting sub_data_name_i sorting_1">{{section.name}}</td>
                            <td class="dropdownsetting"></td>
                            <td class="dropdownsetting"></td>
                            <td class="dropdownsetting data_sub_grade">{{section.total}}%</td>
                            <td class="details-control dropdownsetting text-center" ng-click="selectTableRow($index, section.courseID, $event)"><img id="icon_arrow{{section.courseID}}" class="arrowdown" src="img/arrowup.png"></td>
                        </tr>
                        <tr data-ng-switch-when="true">
                            <td colspan="6">
                                <div ng-include="'components/professor/feature/assignments/ass_table-template.html'" id="{{section.courseID}}_wrapper" class="dataTables_wrapper"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-xs-12 col-md-1"></div>
        </div>

    </div>
</div> 

<script type="text/ng-template" id="assignmentsFilterModal">
  <div ng-include="'components/modals/assignmentsFilterModal.html'"></div>
</script>

<script type="text/ng-template" id="infoQuizDetailModal">
  <div ng-include="'components/modals/infoQuizDetailModal.html'"></div>
</script>

<script type="text/ng-template" id="infoQuizModal">
  <div ng-include="'components/modals/infoQuizModal.html'"></div>
</script>

<script type="text/ng-template" id="assignmentsImageA">
  <div ng-include="'components/modals/assignmentsImageA.html'"></div>
</script>

<script type="text/ng-template" id="modalNotifications">
  <div ng-include="'components/modals/modalNotifications.html'"></div>
</script>
